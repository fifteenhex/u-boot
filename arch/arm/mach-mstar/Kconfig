menu "MStar/SigmaStar v7 options"
	depends on ARCH_MSTARV7

config MSTAR_IPL
	bool "u-boot is being loaded by the vendor IPL"
	imply SPI
	imply DM_SPI
	imply DM_SPI_FLASH
	imply MSTAR_MSC313SPINOR
	imply SPL_SPI_SUPPORT
	imply SPL_SPI_FLASH_SUPPORT
	imply SPL_DM_SPI
	imply SPL_DM_SPI_FLASH
	imply SPI_FLASH_WINBOND
	imply MTD
	imply MTD_UBI
	imply CMD_UBI
	imply DM_MTD
	imply MTD_SPI_NAND
	imply SPL_MTD_SUPPORT
	imply SPL_YMODEM_SUPPORT
	imply DM_ETH
	imply MACB
	imply NET_RANDOM_ETHADDR
	imply MII
	imply PHY_MSTAR
	imply CMD_DHCP
	select SPL_STACK_R
	help
	  Say y here if you are loading u-boot via the vendor
	  IPL. Note that the image can only be 48KB or less
	  for the IPL to load it so this only really applies
	  to a SPL/TPL.

config MSTAR_INFINITY1
	bool "infinity1 family"

config MSTAR_INFINITY2M
	bool "infinity2m family"

config MSTAR_INFINITY3
	bool "infinity3 family"

config MSTAR_MERCURY5
	bool "mercury5 family"

choice
     prompt "Board type"

config TARGET_MSTARV7
	bool "Generic MStar/SigmaStar v7 boards"
	select MULTI_DTB_FIT

config TARGET_BREADBEE
	bool "Support breadbee boards"
	depends on !MSTAR_MERCURY5
	select SPL_DM_SPI
	select MSTAR_INFINITY1
	select MSTAR_INFINITY3
	select DM_ETH
	select MACB
	select CMD_DHCP
	select NET_RANDOM_ETHADDR
	select MII
	select PHY_MSTAR
	select REGMAP
	select MMC
	select DM_MMC
	select MMC_MSTAR
	select CMD_MMC
	select CMD_FAT
	select PINCTRL
	select PINCTRL_MSTAR

endchoice

endmenu

if ARCH_MSTARV7

config NR_DRAM_BANKS
	default 1

config SPL_TEXT_BASE
	default 0x23c00000 if MSTAR_IPL
	default 0xa0000000

config SPL_LDSCRIPT
	default "arch/arm/mach-mstar/u-boot-spl.lds"

config SYS_TEXT_BASE
	default	0x20000000

# Because the SRAM is pretty small we need to start using
# the DRAM for stack and heap as soon as possible.
# There is always at least 64MB of DRAM so put our new
# stack there.
config SPL_STACK_R_ADDR
	default 0x24000000
#

config ENV_SIZE
	default 0x2000

config ENV_OFFSET
	default 0x2000

config ENV_SECT_SIZE
	default 4096

config SYS_SPI_U_BOOT_OFFS
	default 0x20000

config SYS_MALLOC_LEN
	default 0x80000

config SYS_MALLOC_F_LEN
        default 0x4000

config FS_FAT_MAX_CLUSTSIZE
	default 4096

config DEBUG_UART_BASE
	default 0x1f221000

config DEBUG_UART_CLOCK
	default 172000000

config DEBUG_UART_SHIFT
	default 3

config SPL_SIZE_LIMIT
	default 0xa800 if MSTAR_INFINITY2M
	default 0xc000

config SYS_SOC
	default "mstarv7"

endif
